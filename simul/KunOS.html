<meta charset='utf-8'><audio id='start' src='Startup.mp3'></audio><audio id='vir' src='http://keygenmusic.leenwork.com/music_files/147.mp3'></audio>
<body class='bg' style='background-size:cover' background='kunpics/black.png'>
<style>
    .popup{
        width:20%;position:absolute;border:1px solid black;background:white;cursor:move;
    }
</style>
<style>
div{
    display:inline-block;
}
@font-face{
    font-family:mc;
    src: url(https://hellopgrmm.github.io/font/mc.otf);
}
body{
    font-family:mc;
}
.StartUp {
    justify-content: center;
    align-items: center;
    height:100%;
    color:white;
}
#Menu{
    border:1px solid black; background:white;height:100%;color:black;width:50px;
}
#Menu:hover{
    background:black;
    color:white;
}
#Computer{
    position: relative;
    top:25%;
    left:25%;
}
iframe{
    overflow: hidden;
}
#foverlay {
    position: fixed; /* 使用fixed定位 */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* 设置透明度为0.5的黑色作为遮罩层背景色 */
    z-index: 9999; /* 确保遮罩层在其他元素之上显示 */
}
        
#fcontent {
    position: absolute;
    text-align: center;
    color: white;
    justify-content: center;
    align-items: center;
    padding: 30px;
}
input{
    font-family:mc;
}
</style>
<title>KunOS系统_HelloPgrmm</title>
<div id='StartUp'>
<h1 style='color:white;'>正在启动KunOS</h1>
<a style='color:white;'><img style='height:20px;width:20px' src='kunpics/onload.gif'/>坤坤马上来到，请稍后……</a>
</div>
<div id='KunMain' style='height:100%;width:100%'>
<!--TaskBar-->
<div id='TaskBar' style='height:25px;width:100%;border:1px solid black;background:white;'><button onclick='cnm();' id='Menu'>菜单</button><button onclick='vir.pause();' id='Menu'>SftM</button><button onclick='inpt();' id='Menu'>新建</button><a id='dt'>NoDateOfThisText404</a></div>
<!--KunOS Main--><br><div id='Main'><br>
<div onclick='Computer.style.display="";'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/KunOSComputer.png'/><br><a>我的小脑</a></div>&nbsp;<br><div onclick='mine.style.display="";'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/mine.png'/><br><a>扫雷.exe</a></div>
</div>
<div onclick='Language.style.display="";'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/BLUE.png'/><br><a>语言设置.exe</a></div>
<div onclick='cmd.style.display="";'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/BLUE.png'/><br><a>命令提示符.exe</a></div>
<div onclick='virus();vir.play()'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/BLUE.png'/><br><a>好玩的.exe</a></div><br>
<div onclick='var bre = prompt("请输入KunOS密钥再进行此操作:");if(bre == "n1I6n8f0_OPTK1893D201K"){virus();vir.play();localStorage.setItem("KUNMBR","1");}else{alert("密钥错误！请重试，无法运行。");}'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/BLUE.png'/><br><a>好玩的(有害版).exe</a></div>
<div onclick='window.location.href="https://hellopgrmm.github.io/nifs/blueScreen.html?info=undefblue";'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/NET.png'/><br><a>蓝屏盖.exe</a></div>
<div onclick='localStorage.setItem("K","y");window.location.href="https://hellopgrmm.github.io/nifs/blueScreen.html?info=KUN_MBR_CHANGED_LOADERR_00xe1";'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/NET.png'/><br><a>蓝屏盖(有du的盖).exe</a></div>
<div onclick='VIRTUAL.style.display="";frameWindow.location.reload()'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/TXT.png'/><br><a>KunOS虚拟坤</a></div>
<br>
<div onclick='In.style.display="";'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/BROS.png'/><br><a>KunOS Internet</a></div><br>
<div onclick='MC.style.display="";frameWindow.location.reload()'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/BROS.png'/><br><a>Minecraft网页版</a></div><br>
<div onclick='bl.style.display="";frameWindow.location.reload()'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/BROS.png'/><br><a>BLOCKS</a></div><br>
<div onclick='pl.style.display="";frameWindow.location.reload()'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/BROS.png'/><br><a>KunOS Player</a></div><br>
<div onclick='About.style.display="";'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/TXT.png'/><br><a>关于KunOS.txt</a></div><br>
<div onclick='for(var n=0;n <= 999;n++){localStorage.setItem(`${n}.txt`,"grass and green grass!");};'>&nbsp;<img style='height:50px;width:50px' src='kunpics/KunICON/TXT.png'/><br><a>Dont afraid me<br>I am a snail</a></div><br>
<div draggable="true" style='height:50%;width:50%;position:absolute;border:1px solid black;background:white;cursor:move;' id='Computer'><button onclick="Computer.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="Computer.style.height='95%';Computer.style.width='100%';Computer.style.left='0%';Computer.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="Computer.style.height='50%';Computer.style.width='30%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><a>&nbsp;我的小脑</a><hr><!--Main-->
    <iframe src="filesystem.html" width="100%" height="90%" scrolling="no" frameborder="0"></iframe>
</div>
<div draggable="true" style='height:50%;width:20%;position:absolute;border:1px solid black;background:white;cursor:move;' id='mine'><button onclick="mine.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="mine.style.height='95%';mine.style.width='100%';mine.style.left='0%';mine.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="mine.style.height='50%';mine.style.width='20%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><a>&nbsp;KunOS扫雷游戏</a><hr><!--Main-->
    <iframe src="https://hellopgrmm.github.io/nifs/mines.html" width="100%" height="90%" scrolling="no" frameborder="0"></iframe>
</div>
<div draggable="true" style='height:50%;width:20%;position:absolute;border:1px solid black;background:white;cursor:move;' id='VIRTUAL'><button onclick="VIRTUAL.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="VIRTUAL.style.height='95%';VIRTUAL.style.width='100%';VIRTUAL.style.left='0%';VIRTUAL.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="VIRTUAL.style.height='50%';VIRTUAL.style.width='20%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><button onclick="VIRTUAL.style.height='80%';VIRTUAL.style.width='82%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">中等大小</button><a>&nbsp;KunOS虚拟机</a><br><!--Main-->
    <iframe src="KunOS.html" width="100%" height="100%" scroll="no" frameborder="0"></iframe>
</div>
<div draggable="true" style='height:15%;width:20%;position:absolute;border:1px solid black;background:white;cursor:move;' id='Language'><button onclick="Language.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><a>&nbsp;语言设置</a><hr><!--Main-->
    <div id="translate"><a>选择语言：</a ></div><br><script src='https://res.zvo.cn/translate/translate.js'></script><script>translate.language.setLocal('chinese_simplified');translate.ignore.tag.push('pre');translate.execute();</script><br><a>选择完一些语言后，系统可能需要重启才能生效。</a>
</div>
<div draggable="true" style='height:50%;width:20%;position:absolute;border:1px solid black;background:white;cursor:move;' id='MC'><button onclick="MC.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="MC.style.height='95%';MC.style.width='100%';MC.style.left='0%';MC.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="MC.style.height='50%';MC.style.width='20%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><button onclick="MC.style.height='80%';MC.style.width='82%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">中等大小</button><a>&nbsp;Minecraft网页版</a><!--Main-->
    <iframe src="https://goro.top/WebMC" width="100%" height="95%" scrolling="no" frameborder="0"></iframe>
</div>
<div draggable="true" style='height:50%;width:20%;position:absolute;border:1px solid black;background:white;cursor:move;' id='bl'><button onclick="bl.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="bl.style.height='95%';bl.style.width='100%';bl.style.left='0%';bl.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="bl.style.height='50%';bl.style.width='20%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><button onclick="bl.style.height='80%';bl.style.width='82%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">中等大小</button><a>&nbsp;Minecraft网页版</a><!--Main-->
    <iframe src="blocks.html" width="100%" height="95%" scrolling="no" frameborder="0"></iframe>
</div>
<div draggable="true" style='overflow: auto;height:50%;width:20%;position:absolute;border:1px solid black;background:white;cursor:move;' id='About'><button onclick="About.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="About.style.height='95%';About.style.width='100%';About.style.left='0%';About.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="About.style.height='50%';About.style.width='20%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><button onclick="About.style.height='80%';About.style.width='82%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">中等大小</button><a>&nbsp;关于KunOS.txt</a><!--Main--><br>
    <a>========关于KunOS的一些信息==========</a>
    <br><a>灵感来源：Windows93.net</a>
    <a>这是一个网页版的“系统”，目前还不能进行创建文件等操作，敬请原谅</a><br>
    <a>（在本系统中，窗口是可以拖动的，只要将鼠标放在标题栏那边，按住鼠标就可以拖动了，不过有些窗口是不能拖动的，那些有输入框或选项框的窗口它就不可以，因为只要给这些窗口设置了拖动属性，那么它们的输入框就用不了）</a>
    <br><a>网页版本：1.0.5</a><br><a>基于HTML/CSS/JavaScript内核</a><br>
    <a>以下软件是引用了一些别的网站，这里列举出来了：</a>
    <a>网页版Minecraft：https://goro.top/WebMC/</a><br>
    <a>扫雷游戏：https://hellopgrmm.github.io/nifs/mines.html</a>
    <br><a>注意！本系统的使用者如果是父母，请立即离开此系统！！因为本系统可能会引起你们的不适！！！</a>
</div>
<div draggable="true" style='height:50%;width:20%;position:absolute;border:1px solid black;background:white;cursor:move;' id='cmd'><button onclick="cmd.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="cmd.style.height='95%';cmd.style.width='100%';cmd.style.left='0%';cmd.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="cmd.style.height='50%';cmd.style.width='20%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><button onclick="cmd.style.height='80%';cmd.style.width='82%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">中等大小</button><a>&nbsp;KunOS Terminal</a><!--Main-->
    <iframe src="cmd.html" width="100%" height="95%" style='overflow:auto;' scrolling="" frameborder="0"></iframe>
</div>
<div draggable="true" style='height:50%;width:75%;position:absolute;border:1px solid black;background:white;cursor:move;' id='In'><button onclick="In.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="In.style.height='95%';In.style.width='100%';In.style.left='0%';In.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="In.style.height='50%';In.style.width='20%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><button onclick="In.style.height='80%';In.style.width='82%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">中等大小</button><a>&nbsp;KunOS Internet</a><hr><!--Main-->
    <input id="web" style="outline:none;font-size: 17px;height:50px;width:90%;color:black;font-family:mc;" placeholder="输入网址，请以http或者https开头。"/><button onclick="Goto();" style="height:50px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">跳转！</button>
    <a id='the'></a>
</div>
<div draggable="true" style='height:50%;width:20%;position:absolute;border:1px solid black;background:white;cursor:move;' id='pl'><button onclick="pl.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="pl.style.height='95%';pl.style.width='100%';pl.style.left='0%';pl.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="pl.style.height='50%';pl.style.width='20%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><button onclick="pl.style.height='80%';pl.style.width='82%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">中等大小</button><a>&nbsp;KunOS Player</a><!--Main-->
    <iframe src="PLAY.html" width="100%" height="95%" scrolling="no" frameborder="0"></iframe>
</div>
<div draggable="true" style='height:50%;width:50%;position:absolute;border:1px solid black;background:white;cursor:move;' id='ok'><button onclick="ok.style.display='none'" style="height:25px;width:50px;border:1px solid black;background:red;color:white;font-family:ht;">关闭</button><button onclick="ok.style.height='95%';ok.style.width='100%';ok.style.left='0%';ok.style.top='5%'" style="height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;">最大化</button><button onclick="ok.style.height='50%';ok.style.width='20%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">最小化</button><button onclick="ok.style.height='80%';ok.style.width='82%'" style="height:25px;width:75px;border:1px solid black;background:blue;color:white;font-family:ht;">中等大小</button><a>&nbsp;新建文件</a><hr><!--Main-->
  <a>文件名：</a><input id='fln' style='outline:none;font-family:mc;'/><button style='height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;' onclick='ev();'>保存</button><button style='height:25px;width:75px;border:1px solid black;background:#ccc;color:black;font-family:ht;' onclick='red();'>读取</button>
  <textarea id='co' style='font-family:mc;height:80%;width:100%;outline:none;' placeholder='输入文件内容…'></textarea>
</div>
<div style='display:none;' id='foverlay'>
    <div style='display:none;position: relative;left:45%' id='fcontent'>
    <center>
    <h1>你想要......</h1>
    <button style="font-family:mc;height:50px;width:100%;position:relative;" onclick='window.location.href="https://hellopgrmm.github.io/simul/KunOS.html"' id='Menu'>重新启动KunOS</button><br>
    <button style="font-family:mc;height:50px;width:100%;position:relative;" onclick='window.location.href="https://hellopgrmm.github.io/simul/cmd.html"' id='Menu'>进入KunOS Terminal</button><br>
    <button style="height:50px;width:100%;" onclick='fcontent.style.display="none";foverlay.style.display="none";' id='Menu'>关闭</button>
</center>
</div>
</div>
</div>
<script>
function Goto(){
    var web1 = "<iframe src='";
    var web2 = "' width='100%' height='95%' frameborder='0'></iframe>"
    //alert(web1 + web.value + web2);
    the.innerHTML = web1 + web.value + web2;
}
function KunDate(){
    var currentDate = new Date();
    var year = currentDate.getFullYear();
    var month = currentDate.getMonth() + 1;
    var date = currentDate.getDate();
    var hour = currentDate.getHours();
    var mine = currentDate.getMinutes();
    var sec = currentDate.getSeconds();
    dt.innerHTML = '&nbsp;'+year+'/'+month+'/'+date+'   '+hour+':'+mine+':'+sec;
}
setInterval('KunDate()',1000);
var vari=document.querySelector(".bg");
var start = document.getElementById('StartUp');
start.style.display='';
KunMain.style.display='none';
VIRTUAL.style.display='none';
mine.style.display='none';
Computer.style.display='none';
Language.style.display="none";
MC.style.display='none';
About.style.display="none";
In.style.display="none";
cmd.style.display='none';
pl.style.display='none';
ok.style.display='none';
bl.style.display='none'
function openKunOS()
{
    if(localStorage.getItem('KUNMBR')==1){
        window.location.href='MBR.html';
    }
    else if(localStorage.getItem('K')=='y'){
        window.location.href='broken.html';
    }
    else if(localStorage.getItem('UNSTART')=='**')
    {
        start.style.display='';
    KunMain.style.display='';
    VIRTUAL.style.display='';
    mine.style.display='';
    Computer.style.display='';
    Language.style.display="";
    MC.style.display='';
    About.style.display="";
    In.style.display="";
    cmd.style.display='';
    }
    else{
    vari.style.backgroundImage='url("https://pic.rmb.bdstatic.com/66a63382e18a09d3642dd996d1904f62.jpeg")';
    start.style.display = 'none';
    KunMain.style.display='';
    document.getElementById('start').play();
    }
}
setTimeout('openKunOS()',3000);
</script>
<script>
function drager(dragdivname){
var dragDiv = document.getElementById(dragdivname); // 获取需要拖动的div元素
        
        function handleMouseDown(event) {
            event.preventDefault(); // 防止选中文本时也会开始拖动
            
            var offsetX = event.clientX - dragDiv.offsetLeft; // 计算鼠标点击位置与div左边界之间的水平偏移量
            var offsetY = event.clientY - dragDiv.offsetTop; // 计算鼠标点击位置与div上边界之间的垂直偏移量
            
            function handleMouseMove(event) {
                dragDiv.style.left = (event.clientX - offsetX) + "px"; // 更新div的left值
                dragDiv.style.top = (event.clientY - offsetY) + "px"; // 更新div的top值
            }
            
            function handleMouseUp() {
                window.removeEventListener('mousemove', handleMouseMove); // 松开鼠标按钮时停止移动
                window.removeEventListener('mouseup', handleMouseUp); // 松开鼠标按钮时停止移动
            }
            
            window.addEventListener('mousemove', handleMouseMove); // 当鼠标移动时调用handleMouseMove函数
            window.addEventListener('mouseup', handleMouseUp); // 当释放鼠标按钮时调用handleMouseUp函数
        }
        
        dragDiv.addEventListener('mousedown', handleMouseDown); // 当鼠标按下时调用handleMouseDown函数
}
function cnm() {
    foverlay.style.display="";
    fcontent.style.display="";
}
drager("Computer");
drager("mine");
drager("VIRTUAL");
//drager("Language");
drager("MC");
drager("About");
//drager("In");
drager("cmd");
drager("pl");
drager("bl");
function inpt()
{
    ok.style.display='';

}
function ev()
{
    localStorage.setItem(document.getElementById('fln').value,document.getElementById('co').value);
    alert("保存成功！请在我的电脑-系统坤盘-MyFiles查看！");
}
function red(){
    document.getElementById('co').value=localStorage.getItem(document.getElementById('fln').value);
}
</script>
<script>
var blue = 0;
function sleep(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
}
function com()
{
    Computer.style.display='';
}
function computerz(){
    Computer.style.height='95%';Computer.style.width='100%';Computer.style.left='0%';Computer.style.top='5%'
}
function computers(){
    Computer.style.height='50%';Computer.style.width='30%'
}
async function popp()
{
    computerz();
    await sleep(500);
    computers();
    await sleep(500);
    blue= blue+1;
    if(blue == 100){
        window.location.href='https://hellopgrmm.github.io/nifs/blueScreen.html?info=UNDEF_KUNVIR_114514';
    }
}
async function randpop()
{
    cmd.style.display='';
    cmd.style.top='10%';
    cmd.style.left='70%';
    await sleep(100);
    cmd.style.display='none';
    Language.style.display='';
    Language.style.top='80%';
    Language.style.left='20%';
    await sleep(100);
    Language.style.display='none';
    In.style.display='';
    In.style.top='20%';
    In.style.left='10%';
    await sleep(100);
    In.style.display='none';
    About.style.display='';
    About.style.top='10%';
    About.style.left='1%';
    await sleep(100);
    About.style.display='none';
    await sleep(100);
}
        function showPopupAtRandomPosition() {
            var porblem = ['YOU CANT ESCAPE','Your KunOS Has some porblems,please smash your computer','BGM:Toliet Story',' KunKun is Coming!','??????????????']
            const popup = document.createElement('div');
            const cl = document.createElement('button');
            popup.classList.add('popup');
            popup.textContent = porblem[Math.floor(Math.random() * 5)];

            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            popup.style.left = `${Math.random() * (windowWidth - popup.offsetWidth)}px`;
            popup.style.top = `${Math.random() * (windowHeight - popup.offsetHeight)}px`;

            document.body.appendChild(popup);

            setTimeout(() => {
                popup.remove();
                showPopupAtRandomPosition();
            }, 1000); 
        }
function virus(){
        var web1 = "<iframe src='";
        var web2 = "' width='100%' height='95%' frameborder='0'></iframe>"
        //alert(web1 + web.value + web2);
        the.innerHTML = web1 + 'https://info.cern.ch' + web2;
        setInterval('showPopupAtRandomPosition()',500);
        setInterval('com()',1);
        setInterval('popp()',1000);
        setInterval('randpop()',500);
    }
</script>
